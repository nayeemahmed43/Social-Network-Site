{"version":3,"sources":["images/homberg.jpg","post/apiPost.js","post/Posts.js","core/Home.js","auth/index.js","core/Menu.js","user/SocialLogin.js","user/Signup.js","user/Signin.js","user/apiUser.js","user/DeleteUser.js","user/FollowProfileButton.js","user/ProfileTabs.js","user/Profile.js","user/Users.js","user/EditProfile.js","user/FindPeople.js","post/NewPost.js","post/EditPost.js","post/Comment.js","post/SinglePost.js","auth/PrivateRoute.js","user/ForgotPassword.js","user/ResetPassword.js","admin/Admin.js","MainRouter.js","App.js","index.js","images/avatar.jpg"],"names":["module","exports","create","userId","token","post","fetch","process","method","headers","Accept","Authorization","body","then","response","json","catch","err","console","log","list","page","singlePost","postId","listByUser","remove","update","like","JSON","stringify","unlike","comment","uncomment","Posts","loadPosts","data","error","setState","posts","loadMore","number","state","loadLess","renderPosts","className","map","i","posterId","postedBy","_id","posterName","name","key","src","alt","title","onError","target","DefaultPost","style","height","width","substring","to","Date","created","toDateString","this","length","onClick","Component","Home","signup","user","signin","authenticate","jwt","next","window","localStorage","setItem","signout","removeItem","isAuthenticated","getItem","parse","forgotPassword","email","resetPassword","resetInfo","socialLogin","isActive","history","path","location","pathname","color","withRouter","role","cursor","push","SocialLogin","responseGoogle","profileObj","googleId","imageUrl","password","redirectToReferrer","clientId","buttonText","onSuccess","onFailure","Signup","handleChange","event","value","recaptchaHandler","e","dayCount","userDay","toLowerCase","getDay","recaptcha","clickSubmit","preventDefault","open","signupForm","onChange","type","display","Signin","loading","redirectToReferer","signinForm","read","updateUser","auth","follow","followId","unfollow","unfollowId","DeleteUser","redirect","deleteAccount","props","deleteConfirmed","confirm","FollowProfileButton","followClick","onButtonClick","unfollowClick","following","ProfileTabs","followers","person","borderRadius","border","DefaultProfile","Profile","checkFollow","find","follower","clickFollowButton","callApi","init","redirectToSignin","match","params","photoUrl","getTime","class","about","Users","renderUsers","users","EditProfile","redirectToProfile","id","isValid","fileSize","test","files","size","userData","set","accept","FormData","FindPeople","clickFollow","toFollow","splice","followMessage","findPeople","NewPost","postData","NewPostForm","photo","EditPost","editPostForm","Comment","text","addComment","updateComments","comments","deleteComment","onSubmit","placeholder","SinglePost","redirectToHome","likes","checkLike","indexOf","componentDidMount","likeToggle","deletePost","renderPost","objectFit","padding","reverse","PrivateRoute","component","rest","render","from","ForgotPassword","message","autoFocus","ResetPassword","newPassword","resetPasswordLink","resetPasswordToken","Admin","MainRouter","exact","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.f78caa3e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/homberg.41248531.jpg\";","export const create = (userId, token, post) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/new/${userId}`,{\r\n        method:\"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: post\r\n    })\r\n    .then(response =>{\r\n        return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n// export const list = () => {\r\n//     return fetch(`${process.env.REACT_APP_API_URL}/posts`, {\r\n//         method: \"GET\"\r\n//     })\r\n//         .then(response =>{\r\n//             return response.json();\r\n//         })\r\n//         .catch(err => console.log(err));\r\n// };\r\n\r\n// with pagination\r\nexport const list = page => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/posts/?page=${page}`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response => {\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const singlePost = (postId) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/${postId}`, {\r\n        method: \"GET\"\r\n    })\r\n        .then(response =>{\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const listByUser = (userId, token) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/posts/by/${userId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n        .then(response =>{\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const remove = (postId, token) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/${postId}`,{\r\n        method:\"DELETE\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    }).then(response =>{\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const update = (postId, token, post) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/${postId}`,{\r\n        method:\"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: post\r\n    })\r\n    .then(response =>{\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const like = (userId, token, postId) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/like`,{\r\n        method:\"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId})\r\n    })\r\n    .then(response =>{\r\n        return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const unlike = (userId, token, postId) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/unlike`,{\r\n        method:\"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId})\r\n    })\r\n    .then(response =>{\r\n        return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const comment = (userId, token, postId, comment) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/comment`,{\r\n        method:\"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId, comment})\r\n    })\r\n    .then(response =>{\r\n        return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const uncomment = (userId, token, postId, comment) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/post/uncomment`,{\r\n        method:\"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, postId, comment})\r\n    })\r\n    .then(response =>{\r\n        return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n\r\n","import React, { Component } from 'react'\r\nimport { list } from './apiPost';\r\nimport DefaultPost from '../images/homberg.jpg';\r\nimport {Link} from 'react-router-dom';\r\n\r\nclass Posts extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            posts: [],\r\n            page: 1\r\n        };\r\n    }\r\n\r\n    loadPosts = page => {\r\n        list(page).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                this.setState({ posts: data });\r\n            }\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.loadPosts(this.state.page);\r\n    }\r\n\r\n    loadMore = number => {\r\n        this.setState({ page: this.state.page + number });\r\n        this.loadPosts(this.state.page + number);\r\n    };\r\n\r\n    loadLess = number => {\r\n        this.setState({ page: this.state.page - number });\r\n        this.loadPosts(this.state.page - number);\r\n    };\r\n\r\n    renderPosts = posts => {\r\n        return (\r\n            <div className=\"row\">\r\n                {posts.map((post, i) => {\r\n                    const posterId = post.postedBy\r\n                        ? `/user/${post.postedBy._id}`\r\n                        : \"\";\r\n                    const posterName = post.postedBy\r\n                        ? post.postedBy.name\r\n                        : \" Unknown\";\r\n\r\n                    return (\r\n                        <div className=\"card col-md-4\" key={i}>\r\n                            <div className=\"card-body\">\r\n                                <img\r\n                                    src={`${\r\n                                        process.env.REACT_APP_API_URL\r\n                                    }/post/photo/${post._id}`}\r\n                                    alt={post.title}\r\n                                    onError={i =>\r\n                                        (i.target.src = `${DefaultPost}`)\r\n                                    }\r\n                                    className=\"img-thunbnail mb-3\"\r\n                                    style={{ height: \"200px\", width: \"100%\" }}\r\n                                />\r\n                                <h5 className=\"card-title\">{post.title}</h5>\r\n                                <p className=\"card-text\">\r\n                                    {post.body.substring(0, 100)}\r\n                                </p>\r\n                                <br />\r\n                                <p className=\"font-italic mark\">\r\n                                    Posted by{\" \"}\r\n                                    <Link to={`${posterId}`}>\r\n                                        {posterName}{\" \"}\r\n                                    </Link>\r\n                                    on {new Date(post.created).toDateString()}\r\n                                </p>\r\n                                <Link\r\n                                    to={`/post/${post._id}`}\r\n                                    className=\"btn btn-raised btn-primary btn-sm\"\r\n                                >\r\n                                    Read more\r\n                                </Link>\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    render() {\r\n        const { posts, page } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">\r\n                    {!posts.length ? \"No more posts!\" : \"Recent Posts\"}\r\n                </h2>\r\n\r\n                {this.renderPosts(posts)}\r\n\r\n                {page > 1 ? (\r\n                    <button\r\n                        className=\"btn btn-raised btn-warning mr-5 mt-5 mb-5\"\r\n                        onClick={() => this.loadLess(1)}\r\n                    >\r\n                        Previous ({this.state.page - 1})\r\n                    </button>\r\n                ) : (\r\n                    \"\"\r\n                )}\r\n\r\n                {posts.length ? (\r\n                    <button\r\n                        className=\"btn btn-raised btn-success mt-5 mb-5\"\r\n                        onClick={() => this.loadMore(1)}\r\n                    >\r\n                        Next ({page + 1})\r\n                    </button>\r\n                ) : (\r\n                    \"\"\r\n                )}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Posts;\r\n","import React from 'react';\r\nimport Posts from \"../post/Posts\";\r\n\r\nconst Home = () => (\r\n     <div>\r\n        <div className=\"jumbotron\">\r\n             <h2>Home</h2>\r\n            <p className=\"lead\">Welcome to this social networking site.</p>\r\n        </div>\r\n         <div className=\"container\">\r\n             <Posts />\r\n        </div>\r\n    </div>\r\n\r\n);\r\n\r\nexport default Home;\r\n","export const signup = user =>{\r\n    \r\n    return fetch(`${process.env.REACT_APP_API_URL}/signup`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Accept\": \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(user)\r\n\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const signin = user =>{\r\n    return fetch(`${process.env.REACT_APP_API_URL}/signin`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Accept\": \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(user)\r\n\r\n    })\r\n    .then(response => {\r\n        return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const authenticate = (jwt, next) => {\r\n    if(typeof window !== \"undefined\"){\r\n        localStorage.setItem(\"jwt\", JSON.stringify(jwt))\r\n        next()\r\n    }\r\n};\r\n\r\nexport const signout = (next) =>{\r\n    if(typeof window !== \"undefined\") localStorage.removeItem(\"jwt\");\r\n    next()\r\n    return fetch(`${process.env.REACT_APP_API_URL}/signup`,{\r\n        method: \"GET\"\r\n    })\r\n    .then(response => {\r\n        console.log(\"signout\", response)\r\n        return response.json()\r\n\r\n    })\r\n    .catch(err => console.log(err))\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n    if(typeof window == \"undefined\"){\r\n        return false;\r\n    }\r\n\r\n    if(localStorage.getItem(\"jwt\")){\r\n        return JSON.parse(localStorage.getItem(\"jwt\"));\r\n    }else{\r\n        return false;\r\n    }\r\n};\r\n\r\nexport const forgotPassword = email => {\r\n    console.log(\"email: \", email);\r\n    return fetch(`${process.env.REACT_APP_API_URL}/forgot-password/`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({ email })\r\n    })\r\n        .then(response => {\r\n            console.log(\"forgot password response: \", response);\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const resetPassword = resetInfo => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/reset-password/`, {\r\n        method: \"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(resetInfo)\r\n    })\r\n        .then(response => {\r\n            console.log(\"forgot password response: \", response);\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\nexport const socialLogin = user => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/social-login/`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        // credentials: \"include\", // works only in the same origin\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            console.log(\"signin response: \", response);\r\n            return response.json();\r\n        })\r\n        .catch(err => console.log(err));\r\n};\r\n\r\n\r\n","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport {signout, isAuthenticated} from '../auth';\r\n\r\nconst isActive = (history,path) => {\r\n    if(history.location.pathname === path) return {color: \"#ff9900\"}\r\n        else return {color: \"#ffffff\"}\r\n};\r\n\r\n\r\nconst Menu = ({history}) => (\r\n        <div>\r\n            <ul className=\"nav nav-tabs bg-primary\">\r\n                \r\n                <li className=\"nav-item\">\r\n                    <Link \r\n                    className=\"nav-link\" \r\n                    style={isActive(history, \"/\")} \r\n                    to=\"/\"\r\n                    >\r\n                    Home\r\n                    </Link>\r\n                </li>\r\n\r\n                <li className=\"nav-item\">\r\n                    <Link \r\n                    className=\"nav-link\" \r\n                    style={isActive(history, \"/users\")} \r\n                    to=\"/users\"\r\n                    >\r\n                    Users\r\n                    </Link>\r\n                </li>\r\n\r\n                <li className=\"nav-item\">\r\n                    <Link \r\n                    to={`/post/create`}\r\n                    style={isActive(\r\n                            history,\r\n                            `/post/create`\r\n                            )}\r\n                    className=\"nav-link\"\r\n                    >\r\n                        Create Post\r\n                    </Link>\r\n                </li>\r\n\r\n                {isAuthenticated() && isAuthenticated().user.role === 'admin' && (\r\n                <li className=\"nav-item\">\r\n                    <Link to={`/admin`} style={isActive(history, `/admin`)} className=\"nav-link\">\r\n                        Admin\r\n                    </Link>\r\n                </li>\r\n            )}\r\n\r\n                {!isAuthenticated() && (\r\n                    <>\r\n                        <li className=\"nav-item\">\r\n                    <Link \r\n                    className=\"nav-link\" \r\n                    style={isActive(history, \"/signin\")} \r\n                    to=\"/signin\"\r\n                    >\r\n                    Sign IN\r\n                    </Link>\r\n                </li>\r\n                \r\n                <li className=\"nav-item\">\r\n                    <Link\r\n                    className=\"nav-link\" \r\n                    style={isActive(history, \"/signup\")}\r\n                    to=\"/signup\" \r\n                    >\r\n                    Sign Up\r\n                    </Link>\r\n                </li>\r\n                    </>\r\n                    \r\n                )}\r\n\r\n                { isAuthenticated() && (\r\n                    \r\n             <>\r\n                <li className=\"nav-item\">\r\n                    <Link \r\n                    to={`/findpeople`}\r\n                    style={isActive(history, `/findpeople`)}\r\n                    className=\"nav-link\"\r\n                    >\r\n                        Find People\r\n                    </Link>\r\n                </li>\r\n\r\n                \r\n                <li className=\"nav-item\">\r\n                    <Link \r\n                    to={`/user/${isAuthenticated().user._id}`}\r\n                    style={isActive(\r\n                            history,\r\n                            `/user/${isAuthenticated().user._id}`\r\n                            )}\r\n                    className=\"nav-link\"\r\n                    >\r\n                    {`${isAuthenticated().user.name}'s profile`}\r\n                    </Link>\r\n        \r\n                </li>\r\n\r\n                <li className=\"nav-item\">\r\n                    <span\r\n                    className=\"nav-link\" \r\n                    style={\r\n                     (isActive(history, \"/signup\"),\r\n                     {cursor: \"pointer\", color: \"#fff\"})\r\n                     }\r\n                    onClick={() => signout(()=> history.push('/'))}\r\n                    >\r\n                    Sign Out\r\n                    </span>\r\n                </li>\r\n                    </>\r\n                )}\r\n                \r\n            </ul>\r\n        </div>\r\n    );\r\n\r\n\r\nexport default withRouter(Menu);\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport GoogleLogin from \"react-google-login\";\r\nimport { socialLogin, authenticate } from \"../auth\";\r\n\r\nclass SocialLogin extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            redirectToReferrer: false\r\n        };\r\n    }\r\n\r\n    responseGoogle = response => {\r\n        console.log(response);\r\n        const { googleId, name, email, imageUrl } = response.profileObj;\r\n        const user = {\r\n            password: googleId,\r\n            name: name,\r\n            email: email,\r\n            imageUrl: imageUrl\r\n        };\r\n        // console.log(\"user obj to social login: \", user);\r\n        socialLogin(user).then(data => {\r\n            console.log(\"signin data: \", data);\r\n            if (data.error) {\r\n                console.log(\"Error Login. Please try again..\");\r\n            } else {\r\n                console.log(\"signin success - setting jwt: \", data);\r\n                authenticate(data, () => {\r\n                    this.setState({ redirectToReferrer: true });\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    render() {\r\n        // redirect\r\n        const { redirectToReferrer } = this.state;\r\n        if (redirectToReferrer) {\r\n            return <Redirect to=\"/\" />;\r\n        }\r\n\r\n        return (\r\n            <GoogleLogin\r\n                clientId=\"226235339307-hs82bpqk6mhg96r6eli3tg1kve97a6nu.apps.googleusercontent.com\"\r\n                buttonText=\"Login with Google\"\r\n                onSuccess={this.responseGoogle}\r\n                onFailure={this.responseGoogle}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nexport default SocialLogin;\r\n","import React, { Component } from \"react\";\r\nimport { signup } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SocialLogin from \"./SocialLogin\";\r\n\r\nclass Signup extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            name: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            error: \"\",\r\n            open: false,\r\n            recaptcha: false\r\n        };\r\n    }\r\n\r\n    handleChange = name => event => {\r\n        this.setState({ error: \"\" });\r\n        this.setState({ [name]: event.target.value });\r\n    };\r\n\r\n    recaptchaHandler = e => {\r\n        this.setState({ error: \"\" });\r\n        let userDay = e.target.value.toLowerCase();\r\n        let dayCount;\r\n\r\n        if (userDay === \"sunday\") {\r\n            dayCount = 0;\r\n        } else if (userDay === \"monday\") {\r\n            dayCount = 1;\r\n        } else if (userDay === \"tuesday\") {\r\n            dayCount = 2;\r\n        } else if (userDay === \"wednesday\") {\r\n            dayCount = 3;\r\n        } else if (userDay === \"thursday\") {\r\n            dayCount = 4;\r\n        } else if (userDay === \"friday\") {\r\n            dayCount = 5;\r\n        } else if (userDay === \"saturday\") {\r\n            dayCount = 6;\r\n        }\r\n\r\n        if (dayCount === new Date().getDay()) {\r\n            this.setState({ recaptcha: true });\r\n            return true;\r\n        } else {\r\n            this.setState({\r\n                recaptcha: false\r\n            });\r\n            return false;\r\n        }\r\n    };\r\n\r\n    clickSubmit = event => {\r\n        event.preventDefault();\r\n        const { name, email, password } = this.state;\r\n        const user = {\r\n            name,\r\n            email,\r\n            password\r\n        };\r\n        // console.log(user);\r\n        if (this.state.recaptcha) {\r\n            signup(user).then(data => {\r\n                if (data.error) this.setState({ error: data.error });\r\n                else\r\n                    this.setState({\r\n                        error: \"\",\r\n                        name: \"\",\r\n                        email: \"\",\r\n                        password: \"\",\r\n                        open: true\r\n                    });\r\n            });\r\n        } else {\r\n            this.setState({\r\n                error: \"What day is today? Please write a correct answer!\"\r\n            });\r\n        }\r\n    };\r\n\r\n    signupForm = (name, email, password, recaptcha) => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Name</label>\r\n                <input\r\n                    onChange={this.handleChange(\"name\")}\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    value={name}\r\n                />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input\r\n                    onChange={this.handleChange(\"email\")}\r\n                    type=\"email\"\r\n                    className=\"form-control\"\r\n                    value={email}\r\n                />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input\r\n                    onChange={this.handleChange(\"password\")}\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    value={password}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">\r\n                    {recaptcha ? \"Thanks. You got it!\" : \"What day is today?\"}\r\n                </label>\r\n\r\n                <input\r\n                    onChange={this.recaptchaHandler}\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                />\r\n            </div>\r\n\r\n            <button\r\n                onClick={this.clickSubmit}\r\n                className=\"btn btn-raised btn-primary\"\r\n            >\r\n                Submit\r\n            </button>\r\n        </form>\r\n    );\r\n\r\n    render() {\r\n        const { name, email, password, error, open, recaptcha } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Signup</h2>\r\n\r\n                <hr />\r\n                <SocialLogin />\r\n\r\n                <hr />\r\n                <br />\r\n\r\n                <div\r\n                    className=\"alert alert-danger\"\r\n                    style={{ display: error ? \"\" : \"none\" }}\r\n                >\r\n                    {error}\r\n                </div>\r\n\r\n                <div\r\n                    className=\"alert alert-info\"\r\n                    style={{ display: open ? \"\" : \"none\" }}\r\n                >\r\n                    New account is successfully created. Please{\" \"}\r\n                    <Link to=\"/signin\">Sign In</Link>.\r\n                </div>\r\n\r\n                {this.signupForm(name, email, password, recaptcha)}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Signup;","import React, { Component } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { signin, authenticate } from \"../auth\";\r\nimport SocialLogin from \"./SocialLogin\";\r\n\r\nclass Signin extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            email: \"\",\r\n            password: \"\",\r\n            error: \"\",\r\n            redirectToReferer: false,\r\n            loading: false,\r\n            recaptcha: false\r\n        };\r\n    }\r\n\r\n    handleChange = name => event => {\r\n        this.setState({ error: \"\" });\r\n        this.setState({ [name]: event.target.value });\r\n    };\r\n\r\n    recaptchaHandler = e => {\r\n        this.setState({ error: \"\" });\r\n        let userDay = e.target.value.toLowerCase();\r\n        let dayCount;\r\n\r\n        if (userDay === \"sunday\") {\r\n            dayCount = 0;\r\n        } else if (userDay === \"monday\") {\r\n            dayCount = 1;\r\n        } else if (userDay === \"tuesday\") {\r\n            dayCount = 2;\r\n        } else if (userDay === \"wednesday\") {\r\n            dayCount = 3;\r\n        } else if (userDay === \"thursday\") {\r\n            dayCount = 4;\r\n        } else if (userDay === \"friday\") {\r\n            dayCount = 5;\r\n        } else if (userDay === \"saturday\") {\r\n            dayCount = 6;\r\n        }\r\n\r\n        if (dayCount === new Date().getDay()) {\r\n            this.setState({ recaptcha: true });\r\n            return true;\r\n        } else {\r\n            this.setState({\r\n                recaptcha: false\r\n            });\r\n            return false;\r\n        }\r\n    };\r\n\r\n    clickSubmit = event => {\r\n        event.preventDefault();\r\n        this.setState({ loading: true });\r\n        const { email, password } = this.state;\r\n        const user = {\r\n            email,\r\n            password\r\n        };\r\n        // console.log(user);\r\n        if (this.state.recaptcha) {\r\n            signin(user).then(data => {\r\n                if (data.error) {\r\n                    this.setState({ error: data.error, loading: false });\r\n                } else {\r\n                    // authenticate\r\n                    authenticate(data, () => {\r\n                        this.setState({ redirectToReferer: true });\r\n                    });\r\n                }\r\n            });\r\n        } else {\r\n            this.setState({\r\n                loading: false,\r\n                error: \"What day is today? Please write a correct answer!\"\r\n            });\r\n        }\r\n    };\r\n\r\n    signinForm = (email, password, recaptcha) => (\r\n        <form>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Email</label>\r\n                <input\r\n                    onChange={this.handleChange(\"email\")}\r\n                    type=\"email\"\r\n                    className=\"form-control\"\r\n                    value={email}\r\n                />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Password</label>\r\n                <input\r\n                    onChange={this.handleChange(\"password\")}\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    value={password}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">\r\n                    {recaptcha ? \"Thanks. You got it!\" : \"What day is today?\"}\r\n                </label>\r\n\r\n                <input\r\n                    onChange={this.recaptchaHandler}\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                />\r\n            </div>\r\n\r\n            <button\r\n                onClick={this.clickSubmit}\r\n                className=\"btn btn-raised btn-primary\"\r\n            >\r\n                Submit\r\n            </button>\r\n        </form>\r\n    );\r\n\r\n    render() {\r\n        const {\r\n            email,\r\n            password,\r\n            error,\r\n            redirectToReferer,\r\n            loading,\r\n            recaptcha\r\n        } = this.state;\r\n\r\n        if (redirectToReferer) {\r\n            return <Redirect to=\"/\" />;\r\n        }\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">SignIn</h2>\r\n                <hr />\r\n                <SocialLogin />\r\n\r\n                <hr />\r\n                <br />\r\n\r\n                <div\r\n                    className=\"alert alert-danger\"\r\n                    style={{ display: error ? \"\" : \"none\" }}\r\n                >\r\n                    {error}\r\n                </div>\r\n\r\n                {loading ? (\r\n                    <div className=\"jumbotron text-center\">\r\n                        <h2>Loading...</h2>\r\n                    </div>\r\n                ) : (\r\n                    \"\"\r\n                )}\r\n\r\n                {this.signinForm(email, password, recaptcha)}\r\n\r\n                <p>\r\n                    <Link\r\n                        to=\"/forgot-password\"\r\n                        className=\"btn btn-raised btn-danger\"\r\n                    >\r\n                        {\" \"}\r\n                        Forgot Password\r\n                    </Link>\r\n                </p>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Signin;\r\n","export const read = (userId, token) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`,{\r\n        method:\"GET\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    }).then(response =>{\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const update = (userId, token, user) => {\r\n    console.log(\"user data update: \", user);\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`,{\r\n        method:\"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: user\r\n    })\r\n    .then(response =>{\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n\r\nexport const remove = (userId, token) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`,{\r\n        method:\"DELETE\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        }\r\n    }).then(response =>{\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const list = () => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/users`,{\r\n        method:\"GET\",\r\n    }).then(response =>{\r\n        return response.json()\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const updateUser = (user, next) => {\r\n    if(typeof window !== 'undefined'){\r\n        if(localStorage.getItem('jwt')){\r\n            let auth = JSON.parse(localStorage.getItem('jwt'));\r\n            auth.user = user;\r\n            localStorage.setItem('jwt', JSON.stringify(auth));\r\n            next();\r\n        }\r\n    }\r\n};\r\n\r\nexport const follow = (userId, token, followId) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/follow`,{\r\n        method:\"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, followId})\r\n    })\r\n    .then(response =>{\r\n        return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const unfollow = (userId, token, unfollowId) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/unfollow`,{\r\n        method:\"PUT\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({userId, unfollowId})\r\n    })\r\n    .then(response =>{\r\n        return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const findPeople = (userId, token) => {\r\n    return fetch(`${process.env.REACT_APP_API_URL}/user/findpeople/${userId}`,{\r\n        method:\"GET\",\r\n        headers: {\r\n            Accept: \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n    .then(response =>{\r\n        return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport {isAuthenticated} from '../auth';\r\nimport { remove } from './apiUser';\r\nimport { signout } from '../auth';\r\n\r\nclass DeleteUser extends Component {\r\n\r\n    state = {\r\n        redirect: false\r\n    };\r\n\r\n    deleteAccount = () =>{\r\n        const token = isAuthenticated().token;\r\n        const userId = this.props.userId;\r\n        remove(userId, token).then(data => {\r\n            if(data.error){\r\n                console.log(data.error)\r\n            }else{\r\n                //signout user\r\n                signout(() => console.log(\"user is deleted\"));\r\n                //redirect\r\n                this.setState({redirect: true})\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n    deleteConfirmed = () => {\r\n        let answer = window.confirm(\"Are you sure you want to delete your account?\");\r\n        if(answer){\r\n            this.deleteAccount();\r\n        };\r\n    }\r\n\r\n    render() {\r\n        if(this.state.redirect){\r\n            return <Redirect to=\"/\" />\r\n        }\r\n        return (\r\n            <button onClick={this.deleteConfirmed} className=\"btn btn-raised btn-danger\">\r\n                Delete Profile\r\n            </button>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DeleteUser\r\n","import React, { Component } from 'react';\r\nimport { follow, unfollow } from './apiUser';\r\n\r\nclass FollowProfileButton extends Component {\r\n    followClick = () => {\r\n        this.props.onButtonClick(follow)\r\n    };\r\n\r\n    unfollowClick = () => {\r\n        this.props.onButtonClick(unfollow)\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"d-inline-block\">\r\n                {\r\n                    !this.props.following ?\r\n                    (\r\n                        <button \r\n                            onClick={this.followClick} \r\n                            className=\"btn btn-success btn-raised mr-5\"\r\n                        >\r\n                            Follow\r\n                        </button>\r\n                    ) : (\r\n                        <button \r\n                            onClick={this.unfollowClick} \r\n                            className=\"btn btn-warning btn-raised\"\r\n                        >\r\n                            UnFollow\r\n                        </button>\r\n                    )\r\n                }   \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FollowProfileButton;\r\n","import React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport DefaultProfile from '../images/avatar.jpg';\r\n\r\nclass ProfileTabs extends Component {\r\n    render() {\r\n        const {following, followers, posts} = this.props\r\n        return (\r\n            <div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-4\">\r\n                        <h3 className=\"text-primary\">Followers</h3>\r\n                        <hr/>\r\n                        {followers.map((person, i) => \r\n                            (\r\n                            <div key={i}>\r\n                                    <div>\r\n                                        <Link to={`/user/${person._id}`}>\r\n                                        <img \r\n                                            style={{\r\n                                                borderRadius: \"50%\", \r\n                                                border:'1px solid black'\r\n                                                }}\r\n                                                className=\"float-left mr-2\"\r\n                                                height=\"30px\"\r\n                                                width=\"30px\"\r\n                                                onError={i => \r\n                                                    (i.target.src = `${DefaultProfile}`)\r\n                                            } \r\n                                            src={`${\r\n                                                process.env\r\n                                                .REACT_APP_API_URL\r\n                                                }/user/photo/${person._id}`}\r\n                                                alt={person.name}\r\n                                                />\r\n                                            <div>\r\n                                                <p className=\"lead\">\r\n                                                    {person.name}\r\n                                                </p>\r\n                                            </div>\r\n                                        </Link>\r\n                                    </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n\r\n\r\n                    <div className=\"col-md-4\">\r\n                        <h3 className=\"text-primary\">Following</h3>\r\n                        <hr/>\r\n                        {following.map((person, i) => (\r\n                            <div key={i}>\r\n                                    <div>\r\n                                        <Link to={`/user/${person._id}`}>\r\n                                            <img \r\n                                            style={{\r\n                                                borderRadius: \"50%\", \r\n                                                border:'1px solid black'\r\n                                                }}\r\n                                                className=\"float-left mr-2\"\r\n                                                height=\"30px\"\r\n                                                width=\"30px\"\r\n                                                onError={i => \r\n                                                    (i.target.src = `${DefaultProfile}`)\r\n                                            } \r\n                                            src={`${\r\n                                                process.env\r\n                                                .REACT_APP_API_URL\r\n                                                }/user/photo/${person._id}`}\r\n                                                alt={person.name}\r\n                                                />\r\n                                            <div>\r\n                                                <p className=\"lead\">\r\n                                                    {person.name}\r\n                                                </p>\r\n                                            </div>\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n                        ))}\r\n                    </div>\r\n\r\n\r\n\r\n                    <div className=\"col-md-4\">\r\n                        <h3 className=\"text-primary\">Posts</h3>\r\n                        <hr/>\r\n                        {posts.map((post, i) => (\r\n                            <div key={i}>\r\n                                    <div>\r\n                                        <Link to={`/post/${post._id}`}>\r\n                                            <div>\r\n                                                <p className=\"lead\">{post.title}</p>\r\n                                            </div>\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\n\r\nexport default ProfileTabs;\r\n","import React, { Component } from 'react';\r\nimport {isAuthenticated} from '../auth';\r\nimport {Redirect,Link} from 'react-router-dom';\r\nimport {read} from './apiUser';\r\nimport DefaultProfile from '../images/avatar.jpg';\r\nimport DeleteUser from './DeleteUser';\r\nimport FollowProfileButton from './FollowProfileButton';\r\nimport ProfileTabs from './ProfileTabs';\r\nimport {listByUser} from '../post/apiPost';\r\n\r\nclass Profile extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    \r\n        this.state = {\r\n             user: {following: [], followers: []},\r\n             redirectToSignin: false,\r\n             following: false,\r\n             error: '',\r\n             posts: []\r\n        };\r\n    }\r\n\r\n    //check follow\r\n    checkFollow = user => {\r\n        const jwt = isAuthenticated();\r\n        const match = user.followers.find(follower =>{\r\n            //one id has many other ids(followers) and vice versa\r\n            return follower._id === jwt.user._id\r\n        });\r\n        return match;\r\n    };\r\n\r\n    clickFollowButton = callApi => {\r\n        const userId = isAuthenticated().user._id;\r\n        const token = isAuthenticated().token;\r\n        \r\n        callApi(userId, token, this.state.user._id)\r\n            .then( data => { \r\n            if(data.error){\r\n                this.setState({error: data.error})\r\n             }else{\r\n                 this.setState({user: data, following: !this.state.following})\r\n             }\r\n        })\r\n\r\n    }\r\n\r\n    init = userId => {\r\n        const token = isAuthenticated().token;\r\n        read(userId, token)\r\n        .then(data => {\r\n            if(data.error){\r\n                this.setState({redirectToSignin: true});\r\n            }else{\r\n                let following = this.checkFollow(data);\r\n                this.setState({user: data, following });\r\n                this.loadPosts(data._id)\r\n            }\r\n        });\r\n    };\r\n\r\n    loadPosts = userId => {\r\n        const token = isAuthenticated().token;\r\n        listByUser(userId, token).then(data =>{\r\n            if(data.error){\r\n                console.log(data.error);\r\n            }else{\r\n                this.setState({ posts:data})\r\n            }\r\n        });\r\n    };\r\n\r\n    componentDidMount(){\r\n        const userId = this.props.match.params.userId;\r\n        this.init(userId);\r\n    }\r\n\r\n    componentWillReceiveProps(props){\r\n        const userId = this.props.match.params.userId;\r\n        this.init(userId);\r\n    }\r\n\r\n    \r\n    render() {\r\n        const {redirectToSignin, user, posts} = this.state;\r\n        if(redirectToSignin) return <Redirect to=\"/signin\" />\r\n        \r\n        const photoUrl = user._id \r\n            ? `${process.env.REACT_APP_API_URL}/user/photo/${user._id }?${new Date().getTime()}`\r\n            : DefaultProfile; \r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Profile</h2>\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-4\">\r\n\r\n                       <img \r\n                            style={{height: \"200px\", width: 'auto'}} \r\n                            className=\"img-thumbnail\"\r\n                            src={photoUrl}\r\n                            onError={i => (i.target.src = `${DefaultProfile}`)} \r\n                            alt={user.name} \r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"col-md-8\">\r\n\r\n                    <div className=\"lead mt-2\">\r\n                        <p>Hello {user.name}</p>\r\n                        <p>Email: {user.email}</p>\r\n                        <p>{`Joined ${new Date(\r\n                            user.created\r\n                        ).toDateString()}`}</p>\r\n                    </div>\r\n\r\n                        {isAuthenticated().user && \r\n                            isAuthenticated().user._id === user._id ? (\r\n                                <div className=\"d-inline-block\">\r\n                                    <Link \r\n                                    className=\"btn btn-raised btn-info mr-5\"\r\n                                    to={`/post/create`}\r\n                                    >\r\n                                        Create Post\r\n                                    </Link>\r\n\r\n                                    <Link \r\n                                    className=\"btn btn-raised btn-success mr-5\"\r\n                                    to={`/user/edit/${user._id}`}\r\n                                    >\r\n                                        Edit Profile\r\n                                    </Link>\r\n                                    <DeleteUser userId={user._id} />\r\n                                </div>\r\n                            ) : (\r\n                               <FollowProfileButton \r\n                               following={this.state.following}\r\n                               onButtonClick={this.clickFollowButton} \r\n                               />\r\n                             )}\r\n\r\n            <div>\r\n              {isAuthenticated().user &&\r\n                isAuthenticated().user.role === \"admin\" && (\r\n                  <div class=\"card mt-5\">\r\n                    <div className=\"card-body\">\r\n                      <h5 className=\"card-title\">Admin</h5>\r\n                      <p className=\"mb-2 text-danger\">\r\n                        Edit/Delete as an Admin\r\n                      </p>\r\n                      <Link\r\n                        className=\"btn btn-raised btn-success mr-5\"\r\n                        to={`/user/edit/${user._id}`}\r\n                      >\r\n                        Edit Profile\r\n                      </Link>\r\n                      {/*<DeleteUser userId={user._id} />*/}\r\n                      <DeleteUser />\r\n                    </div>\r\n                  </div>\r\n                )}\r\n            </div>\r\n                             \r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col md-12 mt-5 mb-5\">\r\n                            <hr />\r\n                            <p className=\"lead\">{user.about}</p>\r\n                            <hr />\r\n                             <ProfileTabs \r\n                                followers={user.followers} \r\n                                following={user.following}\r\n                                posts= {posts}\r\n                            />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Profile;\r\n","import React, { Component } from 'react';\r\nimport { list } from './apiUser';\r\nimport DefaultProfile from '../images/avatar.jpg';\r\nimport {Link} from 'react-router-dom';\r\n\r\n class Users extends Component {\r\n     constructor(props) {\r\n         super(props)\r\n     \r\n         this.state = {\r\n              users:[]\r\n         }\r\n     }\r\n\r\n     componentDidMount(){\r\n         list().then(data => {\r\n             if(data.error){\r\n                 console.log(data.error)\r\n             }else{\r\n                 this.setState({users:data})\r\n             }\r\n         });\r\n     }\r\n\r\n     renderUsers = (users) => (\r\n         <div className=\"row\">\r\n             {users.map((user, i) => (\r\n                <div className=\"card col-md-4\" key={i}>\r\n                    <img \r\n                            style={{height: \"200px\", width: 'auto'}} \r\n                            className=\"img-thumbnail\"\r\n                            src={`${process.env.REACT_APP_API_URL}/user/photo/${user._id }`} \r\n                            onError={i => (i.target.src = `${DefaultProfile}`)}\r\n                            alt={user.name} \r\n                        />\r\n                    <div className=\"card-body\">\r\n                        <h5 className=\"card-title\">{user.name}</h5>\r\n                        <p className=\"card-text\">{user.email}</p>\r\n                        <Link\r\n                            to={`/user/${user._id}`}\r\n                            className=\"btn btn-raised btn-primary btn-sm\"\r\n                        >\r\n                            View profile\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n\r\n    render() {\r\n        const {users} = this.state\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Users</h2>\r\n                {this.renderUsers(users)}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Users;\r\n","import React, { Component } from 'react';\r\nimport {isAuthenticated} from '../auth';\r\nimport { read, update, updateUser } from './apiUser';\r\nimport { Redirect } from 'react-router-dom';\r\nimport DefaultProfile from '../images/avatar.jpg';\r\n\r\nclass EditProfile extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n    \r\n        this.state = {\r\n             id: \"\",\r\n             name: \"\",\r\n             email: \"\",\r\n             password: \"\",\r\n             redirectToProfile: false,\r\n             error: \"\",\r\n             fileSize: 0,\r\n             loading: false,\r\n             about: \"\"\r\n        };\r\n    }\r\n    \r\n\r\n    init = userId => {\r\n        const token = isAuthenticated().token;\r\n        read(userId, token)\r\n        .then(data => {\r\n            if(data.error){\r\n                this.setState({redirectToProfile: true});\r\n            }else{\r\n                this.setState({\r\n                    id: data._id, \r\n                    name: data.name, \r\n                    email: data.email,\r\n                    error: \"\",\r\n                    about: data.about\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    componentDidMount(){\r\n        this.userData = new FormData();\r\n        const userId = this.props.match.params.userId;\r\n        this.init(userId);\r\n    }\r\n\r\n    isValid = () => {\r\n        const { name, email, password, fileSize } = this.state;\r\n        \r\n        if(fileSize > 100000){\r\n            this.setState({error: \"File size should be less than 100kb\"});\r\n            return false;\r\n        }\r\n        \r\n        if(name.length === 0){\r\n            this.setState({error: \"Name is required\", \r\n            loading: false});\r\n            return false;\r\n        }\r\n        //email@domain.com\r\n        if(!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(email)){\r\n            this.setState({error: \"A valid Email is required\", \r\n            loading: false});\r\n            return false;\r\n        }\r\n        if(password.length >= 1 && password.length <= 5){\r\n            this.setState({\r\n                error: \"Password must be at least 6 characters long\", \r\n                loading: false\r\n            });\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n\r\n    handleChange = name => event => {\r\n        this.setState({ error: \"\" });\r\n        const value = \r\n        name === 'photo'? event.target.files[0] : event.target.value;\r\n        \r\n        const fileSize = name === 'photo'? event.target.files[0].size : 0;\r\n        this.userData.set(name, value)\r\n        this.setState({ [name]: value, fileSize });\r\n    };\r\n\r\n    clickSubmit = event => {\r\n        event.preventDefault();\r\n        this.setState({ loading: true });\r\n    \r\n        if (this.isValid()) {\r\n          const userId = this.props.match.params.userId;\r\n          const token = isAuthenticated().token;\r\n    \r\n          update(userId, token, this.userData).then(data => {\r\n            if (data.error) {\r\n              this.setState({ error: data.error });\r\n            } else if (isAuthenticated().user.role === \"admin\") {\r\n              this.setState({\r\n                redirectToProfile: true\r\n              });\r\n            } else {\r\n              updateUser(data, () => {\r\n                this.setState({\r\n                  redirectToProfile: true\r\n                });\r\n              });\r\n            }\r\n          });\r\n        }\r\n      };\r\n    \r\n\r\n\r\n    signupForm = (name, email, password, about) => (\r\n            <form>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label className=\"text-muted\">Profile Photo</label>\r\n                        <input \r\n                            onChange={this.handleChange(\"photo\")} \r\n                            type=\"file\"\r\n                            accept=\"image/*\" \r\n                            className=\"form-control\" \r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label className=\"text-muted\">Name</label>\r\n                        <input \r\n                        onChange={this.handleChange(\"name\")} \r\n                        type=\"text\" \r\n                        className=\"form-control\" \r\n                        value={name}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label className=\"text-muted\">Email</label>\r\n                        <input \r\n                        onChange={this.handleChange(\"email\")} \r\n                        type=\"email\" \r\n                        className=\"form-control\"\r\n                        value={email} \r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label className=\"text-muted\">About</label>\r\n                        <textarea \r\n                        onChange={this.handleChange(\"about\")} \r\n                        type=\"text\" \r\n                        className=\"form-control\" \r\n                        value={about}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label className=\"text-muted\">Password</label>\r\n                        <input \r\n                        onChange={this.handleChange(\"password\")} \r\n                        type=\"password\" \r\n                        className=\"form-control\"\r\n                        value={password}\r\n                         />\r\n                    </div>\r\n                    <button onClick={this.clickSubmit} className=\"btn btn-raised btn-primary\">\r\n                       Update\r\n                    </button>\r\n                </form>\r\n    );\r\n\r\n    render() {\r\n        const { id, name, email, password, redirectToProfile, error, loading, about } = this.state;\r\n\r\n        if(redirectToProfile){\r\n            return <Redirect to={`/user/${id}`} />\r\n        }\r\n\r\n        const photoUrl = id \r\n            ? `${process.env.REACT_APP_API_URL}/user/photo/${id}?${new Date().getTime()}`\r\n            : DefaultProfile; \r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Edit Profile</h2>\r\n                <div \r\n                    className=\"alert alert-danger\"\r\n                    style= {{ display: error ? \"\" : \"none\"}}\r\n                >\r\n                    {error}\r\n                </div>\r\n\r\n                {loading ? (\r\n                <div className=\"jumbotron text-center\">\r\n                    <h2>Loading...</h2>\r\n                </div>\r\n                ): (\r\n                    \"\" \r\n                )}\r\n\r\n                <img \r\n                    style={{height: \"200px\", width: 'auto'}} \r\n                    className=\"img-thumbnail\"\r\n                    src={photoUrl} \r\n                    onError={i => (i.target.src = `${DefaultProfile}`)}\r\n                    alt={name} \r\n                />\r\n                {isAuthenticated().user.role === \"admin\" &&\r\n                    this.signupForm(name, email, password, about)}\r\n\r\n                {isAuthenticated().user._id === id &&\r\n                    this.signupForm(name, email, password, about)}\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default EditProfile;\r\n","import React, { Component } from 'react';\r\nimport { findPeople, follow } from './apiUser';\r\nimport DefaultProfile from '../images/avatar.jpg';\r\nimport {Link} from 'react-router-dom';\r\nimport { isAuthenticated } from '../auth';\r\n\r\n class FindPeople extends Component {\r\n     constructor(props) {\r\n         super(props)\r\n     \r\n         this.state = {\r\n              users:[],\r\n              error: '',\r\n              open: false\r\n\r\n         };\r\n     }\r\n\r\n     componentDidMount(){\r\n         const userId = isAuthenticated().user._id;\r\n         const token = isAuthenticated().token;\r\n\r\n         findPeople(userId, token).then(data => {\r\n             if(data.error){\r\n                 console.log(data.error);\r\n             }else{\r\n                 this.setState({users:data});\r\n             }\r\n         });\r\n     }\r\n\r\n     clickFollow = (user, i) =>{\r\n        const userId = isAuthenticated().user._id;\r\n        const token = isAuthenticated().token;\r\n\r\n        follow(userId,token,user._id)\r\n        .then(data => {\r\n            if(data.error){\r\n                this.setState({error: data.error})\r\n            } else {\r\n                let toFollow = this.state.users;\r\n                toFollow.splice(i, 1)\r\n                this.setState({\r\n                    users: toFollow,\r\n                    open: true,\r\n                    followMessage: `Following ${user.name}`\r\n                })\r\n            }\r\n        })\r\n\r\n     }\r\n\r\n     renderUsers = (users) => (\r\n         <div className=\"row\">\r\n             {users.map((user, i) => (\r\n                <div className=\"card col-md-4\" key={i}>\r\n                    <img \r\n                            style={{height: \"200px\", width: 'auto'}} \r\n                            className=\"img-thumbnail\"\r\n                            src={`${process.env.REACT_APP_API_URL}/user/photo/${user._id }`} \r\n                            onError={i => (i.target.src = `${DefaultProfile}`)}\r\n                            alt={user.name} \r\n                        />\r\n                    <div className=\"card-body\">\r\n                        <h5 className=\"card-title\">{user.name}</h5>\r\n                        <p className=\"card-text\">{user.email}</p>\r\n                        <Link\r\n                            to={`/user/${user._id}`}\r\n                            className=\"btn btn-raised btn-primary btn-sm\"\r\n                        >\r\n                            View profile\r\n                        </Link>\r\n\r\n                        <button onClick={() => this.clickFollow(user, i)} className=\"btn btn-raised btn-info float-right btn-sm\">\r\n                            Follow\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n\r\n    render() {\r\n        const {users, open, followMessage} = this.state\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Find People</h2>\r\n\r\n                {open && (\r\n                    <div className=\"alert alert-success\">\r\n                    <p>{followMessage}</p>\r\n                </div>\r\n                )}\r\n\r\n                {this.renderUsers(users)}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FindPeople;\r\n","import React, { Component } from 'react';\r\nimport {isAuthenticated} from '../auth';\r\nimport { create } from './apiPost';\r\nimport { Redirect } from 'react-router-dom';\r\n//import DefaultProfile from '../images/avatar.jpg';\r\n\r\nclass NewPost extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n    \r\n        this.state = {\r\n             title: '',\r\n             body: '',\r\n             photo: '',\r\n             error: '',\r\n             user: {},\r\n             fileSize: 0,\r\n             loading: false,\r\n             redirectToProfile: false\r\n        };\r\n    }\r\n    \r\n    componentDidMount(){\r\n        this.postData = new FormData();\r\n        this.setState({user: isAuthenticated().user})\r\n    }\r\n\r\n    isValid = () => {\r\n        const { title, body, fileSize } = this.state;\r\n        \r\n        if(fileSize > 100000){\r\n            this.setState({\r\n                error: \"File size should be less than 100kb\",\r\n                loading: false\r\n            });\r\n            return false;\r\n        }\r\n        \r\n        if(title.length === 0 || body.length === 0){\r\n            this.setState({error: \"All fields are required\", \r\n            loading: false});\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    };\r\n\r\n    handleChange = name => event => {\r\n        this.setState({ error: \"\" });\r\n        const value = \r\n        name === 'photo'? event.target.files[0] : event.target.value;\r\n        \r\n        const fileSize = name === 'photo'? event.target.files[0].size : 0;\r\n        this.postData.set(name, value);\r\n        this.setState({ [name]: value, fileSize });\r\n    };\r\n\r\n    clickSubmit = event => {\r\n        event.preventDefault();\r\n        this.setState({loading: true});\r\n\r\n        if(this.isValid()){\r\n            const userId = isAuthenticated().user._id;\r\n            const token = isAuthenticated().token;\r\n         \r\n        create(userId, token, this.postData).then(data => {\r\n            if(data.error) this.setState({error: data.error});\r\n            else {\r\n                this.setState({\r\n                    loading: false, \r\n                    title: \"\", \r\n                    body: \"\",\r\n                    //photo: \"\",\r\n                    redirectToProfile: true\r\n                });\r\n            }\r\n         });\r\n        \r\n        }\r\n    };\r\n\r\n\r\n    NewPostForm = (title, body) => (\r\n            <form>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label className=\"text-muted\">Profile Photo</label>\r\n                        <input \r\n                            onChange={this.handleChange(\"photo\")} \r\n                            type=\"file\"\r\n                            accept=\"image/*\" \r\n                            className=\"form-control\" \r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label className=\"text-muted\">Title</label>\r\n                        <input \r\n                        onChange={this.handleChange(\"title\")} \r\n                        type=\"text\" \r\n                        className=\"form-control\" \r\n                        value={title}\r\n                        />\r\n                    </div>\r\n                    \r\n                    <div className=\"form-group\">\r\n                        <label className=\"text-muted\">Body</label>\r\n                        <textarea \r\n                        onChange={this.handleChange(\"body\")} \r\n                        type=\"text\" \r\n                        className=\"form-control\" \r\n                        value={body}\r\n                        />\r\n                    </div>\r\n\r\n                    <button \r\n                        onClick={this.clickSubmit} \r\n                        className=\"btn btn-raised btn-primary\"\r\n                    >\r\n                       Create Post\r\n                    </button>\r\n                </form>\r\n    );\r\n\r\n    render() {\r\n        const { \r\n            title, \r\n            body, \r\n            photo, \r\n            user, \r\n            error, \r\n            loading, \r\n            redirectToProfile \r\n        } = this.state;\r\n\r\n        if(redirectToProfile){\r\n            return <Redirect to={`/user/${user._id}`} />\r\n        }\r\n\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Create a new post</h2>\r\n                <div \r\n                    className=\"alert alert-danger\"\r\n                    style= {{ display: error ? \"\" : \"none\"}}\r\n                >\r\n                    {error}\r\n                </div>\r\n\r\n                {loading ? (\r\n                <div className=\"jumbotron text-center\">\r\n                    <h2>Loading...</h2>\r\n                </div>\r\n                ): (\r\n                    \"\" \r\n                )}\r\n\r\n                {this.NewPostForm(title, body)}\r\n                </div> \r\n        );\r\n    }\r\n}\r\n\r\nexport default NewPost;\r\n","import React, { Component } from 'react';\r\nimport {singlePost, update} from './apiPost';\r\nimport {isAuthenticated} from '../auth';\r\nimport { Redirect } from 'react-router-dom';\r\nimport DefaultPost from '../images/homberg.jpg';\r\n\r\nclass EditPost extends Component {\r\n    constructor() {\r\n        super()\r\n    \r\n        this.state = {\r\n             id: '',\r\n             title: '',\r\n             body: '',\r\n             redirectToProfile: false,\r\n             error: '',\r\n             fileSize: 0,\r\n             loading: false\r\n        }\r\n    }\r\n\r\n    init = postId => {\r\n        singlePost(postId).then(data => {\r\n            if (data.error) {\r\n                this.setState({ redirectToProfile: true });\r\n            } else {\r\n                this.setState({\r\n                    // id is not post.postedBy._id\r\n                    id: data.postedBy._id,\r\n                    title: data.title,\r\n                    body: data.body,\r\n                    error: \"\"\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    componentDidMount(){\r\n        this.postData = new FormData();\r\n        const postId = this.props.match.params.postId;\r\n        this.init(postId);\r\n    }\r\n\r\n    isValid = () => {\r\n        const { title, body, fileSize } = this.state;\r\n        \r\n        if(fileSize > 100000){\r\n            this.setState({\r\n                error: \"File size should be less than 100kb\",\r\n                loading: false\r\n            });\r\n            return false;\r\n        }\r\n        \r\n        if(title.length === 0 || body.length === 0){\r\n            this.setState({error: \"All fields are required\", \r\n            loading: false});\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    };\r\n\r\n    handleChange = name => event => {\r\n        this.setState({ error: \"\" });\r\n        const value = \r\n        name === 'photo'? event.target.files[0] : event.target.value;\r\n        \r\n        const fileSize = name === 'photo'? event.target.files[0].size : 0;\r\n        this.postData.set(name, value);\r\n        this.setState({ [name]: value, fileSize });\r\n    };\r\n\r\n    clickSubmit = event => {\r\n        event.preventDefault();\r\n        this.setState({loading: true});\r\n\r\n        if(this.isValid()){\r\n            const postId = this.state.id;\r\n            const token = isAuthenticated().token;\r\n         \r\n        update(postId, token, this.postData).then(data => {\r\n            if(data.error) this.setState({error: data.error});\r\n            else {\r\n                this.setState({\r\n                    loading: false, \r\n                    title: \"\", \r\n                    body: \"\", //photo: \"\"\r\n                    redirectToProfile: true\r\n                });\r\n            }\r\n         });\r\n        \r\n        }\r\n    };\r\n\r\n    editPostForm = (title, body) => (\r\n        <form>\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"text-muted\">Post Photo</label>\r\n                    <input \r\n                        onChange={this.handleChange(\"photo\")} \r\n                        type=\"file\"\r\n                        accept=\"image/*\" \r\n                        className=\"form-control\" \r\n                    />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                    <label className=\"text-muted\">Title</label>\r\n                    <input \r\n                    onChange={this.handleChange(\"title\")} \r\n                    type=\"text\" \r\n                    className=\"form-control\" \r\n                    value={title}\r\n                    />\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                    <label className=\"text-muted\">Body</label>\r\n                    <textarea \r\n                    onChange={this.handleChange(\"body\")} \r\n                    type=\"text\" \r\n                    className=\"form-control\" \r\n                    value={body}\r\n                    />\r\n                </div>\r\n\r\n                <button \r\n                    onClick={this.clickSubmit} \r\n                    className=\"btn btn-raised btn-primary\"\r\n                >\r\n                   Update Post\r\n                </button>\r\n            </form>\r\n);\r\n    \r\n    render() {\r\n        const {\r\n            id, \r\n            title, \r\n            body, \r\n            redirectToProfile, \r\n            error, \r\n            loading\r\n        } = this.state;\r\n\r\n        if(redirectToProfile){\r\n            return <Redirect to={`/user/${isAuthenticated().user._id}`} />\r\n        }\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">{title}</h2>\r\n\r\n                <div \r\n                    className=\"alert alert-danger\"\r\n                    style= {{ display: error ? \"\" : \"none\"}}\r\n                >\r\n                    {error}\r\n                </div>\r\n\r\n                {loading ? (\r\n                <div className=\"jumbotron text-center\">\r\n                    <h2>Loading...</h2>\r\n                </div>\r\n                ): (\r\n                    \"\" \r\n                )}\r\n\r\n                <img \r\n                    style={{height: \"200px\", width: 'auto'}} \r\n                    className=\"img-thumbnail\"\r\n                    src={`${\r\n                        process.env.REACT_APP_API_URL\r\n                    }/post/photo/${id}}`} \r\n                    onError={i => (i.target.src = `${DefaultPost}`)}\r\n                    alt={title} \r\n                />\r\n                 {isAuthenticated().user.role === \"admin\" &&\r\n                    this.editPostForm(title, body)}\r\n\r\n                {isAuthenticated().user._id === id &&\r\n                    this.editPostForm(title, body)}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default EditPost;\r\n","import React, { Component } from \"react\";\r\nimport { comment, uncomment } from \"./apiPost\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport DefaultProfile from \"../images/avatar.jpg\";\r\n\r\nclass Comment extends Component {\r\n    state = {\r\n        text: \"\",\r\n        error: \"\"\r\n    };\r\n\r\n    handleChange = event => {\r\n        this.setState({ error: \"\" });\r\n        this.setState({ text: event.target.value });\r\n    };\r\n\r\n    isValid = () => {\r\n        const { text } = this.state;\r\n        if (!text.length > 0 || text.length > 150) {\r\n            this.setState({\r\n                error:\r\n                    \"Comment should not be empty and less than 150 characters long\"\r\n            });\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n\r\n    addComment = e => {\r\n        e.preventDefault();\r\n\r\n        if (!isAuthenticated()) {\r\n            this.setState({ error: \"Please signin to leave a comment\" });\r\n            return false;\r\n        }\r\n\r\n        if (this.isValid()) {\r\n            const userId = isAuthenticated().user._id;\r\n            const token = isAuthenticated().token;\r\n            const postId = this.props.postId;\r\n\r\n            comment(userId, token, postId, { text: this.state.text }).then(\r\n                data => {\r\n                    if (data.error) {\r\n                        console.log(data.error);\r\n                    } else {\r\n                        this.setState({ text: \"\" });\r\n                        // dispatch fresh list of coments to parent (SinglePost)\r\n                        this.props.updateComments(data.comments);\r\n                    }\r\n                }\r\n            );\r\n        }\r\n    };\r\n\r\n    deleteComment = comment => {\r\n        const userId = isAuthenticated().user._id;\r\n        const token = isAuthenticated().token;\r\n        const postId = this.props.postId;\r\n\r\n        uncomment(userId, token, postId, comment).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                this.props.updateComments(data.comments);\r\n            }\r\n        });\r\n    };\r\n\r\n    deleteConfirmed = comment => {\r\n        let answer = window.confirm(\r\n            \"Are you sure you want to delete your comment?\"\r\n        );\r\n        if (answer) {\r\n            this.deleteComment(comment);\r\n        }\r\n    };\r\n\r\n    render() {\r\n        const { comments } = this.props;\r\n        const { error } = this.state;\r\n\r\n        return (\r\n            <div>\r\n                <h2 className=\"mt-5 mb-5\">Leave a comment</h2>\r\n\r\n                <form onSubmit={this.addComment}>\r\n                    <div className=\"form-group\">\r\n                        <input\r\n                            type=\"text\"\r\n                            onChange={this.handleChange}\r\n                            value={this.state.text}\r\n                            className=\"form-control\"\r\n                            placeholder=\"Leave a comment...\"\r\n                        />\r\n                        <button className=\"btn btn-raised btn-success mt-2\">\r\n                            Post\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n\r\n                <div\r\n                    className=\"alert alert-danger\"\r\n                    style={{ display: error ? \"\" : \"none\" }}\r\n                >\r\n                    {error}\r\n                </div>\r\n\r\n                <div className=\"col-md-12\">\r\n                    <h3 className=\"text-primary\">{comments.length} Comments</h3>\r\n                    <hr />\r\n                    {comments.map((comment, i) => (\r\n                        <div key={i}>\r\n                            <div>\r\n                                <Link to={`/user/${comment.postedBy._id}`}>\r\n                                    <img\r\n                                        style={{\r\n                                            borderRadius: \"50%\",\r\n                                            border: \"1px solid black\"\r\n                                        }}\r\n                                        className=\"float-left mr-2\"\r\n                                        height=\"30px\"\r\n                                        width=\"30px\"\r\n                                        onError={i =>\r\n                                            (i.target.src = `${DefaultProfile}`)\r\n                                        }\r\n                                        src={`${\r\n                                            process.env.REACT_APP_API_URL\r\n                                        }/user/photo/${comment.postedBy._id}`}\r\n                                        alt={comment.postedBy.name}\r\n                                    />\r\n                                </Link>\r\n                                <div>\r\n                                    <p className=\"lead\">{comment.text}</p>\r\n                                    <p className=\"font-italic mark\">\r\n                                        Posted by{\" \"}\r\n                                        <Link\r\n                                            to={`/user/${comment.postedBy._id}`}\r\n                                        >\r\n                                            {comment.postedBy.name}{\" \"}\r\n                                        </Link>\r\n                                        on{\" \"}\r\n                                        {new Date(\r\n                                            comment.created\r\n                                        ).toDateString()}\r\n                                        <span>\r\n                                            {isAuthenticated().user &&\r\n                                                isAuthenticated().user._id ===\r\n                                                    comment.postedBy._id && (\r\n                                                    <>\r\n                                                        <span\r\n                                                            onClick={() =>\r\n                                                                this.deleteConfirmed(\r\n                                                                    comment\r\n                                                                )\r\n                                                            }\r\n                                                            className=\"text-danger float-right mr-1\"\r\n                                                        >\r\n                                                            Remove\r\n                                                        </span>\r\n                                                    </>\r\n                                                )}\r\n                                        </span>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Comment;","import React, { Component } from 'react';\r\nimport { singlePost, remove, like, unlike } from './apiPost';\r\nimport DefaultPost from '../images/homberg.jpg';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { isAuthenticated } from '../auth';\r\nimport Comment from './Comment';\r\n\r\nclass SinglePost extends Component {\r\n    state = {\r\n        post: '',\r\n        redirectToHome: false,\r\n        redirectToSignin: false,\r\n        like: false,\r\n        likes: 0,\r\n        comments: []\r\n    };\r\n\r\n    checkLike = likes => {\r\n        const userId = isAuthenticated() && isAuthenticated().user._id;\r\n        let match = likes.indexOf(userId) !== -1;\r\n        return match;\r\n    };\r\n\r\n    componentDidMount = () => {\r\n        const postId = this.props.match.params.postId;\r\n        singlePost(postId).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                this.setState({\r\n                    post: data,\r\n                    likes: data.likes.length,\r\n                    like: this.checkLike(data.likes),\r\n                    comments: data.comments\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    updateComments = comments => {\r\n        this.setState({ comments });\r\n    };\r\n\r\n    likeToggle = () => {\r\n        if (!isAuthenticated()) {\r\n            this.setState({ redirectToSignin: true });\r\n            return false;\r\n        }\r\n        let callApi = this.state.like ? unlike : like;\r\n        const userId = isAuthenticated().user._id;\r\n        const postId = this.state.post._id;\r\n        const token = isAuthenticated().token;\r\n\r\n        callApi(userId, token, postId).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                this.setState({\r\n                    like: !this.state.like,\r\n                    likes: data.likes.length\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    deletePost = () => {\r\n        const postId = this.props.match.params.postId;\r\n        const token = isAuthenticated().token;\r\n        remove(postId, token).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                this.setState({ redirectToHome: true });\r\n            }\r\n        });\r\n    };\r\n\r\n    deleteConfirmed = () => {\r\n        let answer = window.confirm('Are you sure you want to delete your post?');\r\n        if (answer) {\r\n            this.deletePost();\r\n        }\r\n    };\r\n\r\n    renderPost = post => {\r\n        const posterId = post.postedBy ? `/user/${post.postedBy._id}` : '';\r\n        const posterName = post.postedBy ? post.postedBy.name : ' Unknown';\r\n\r\n        const { like, likes } = this.state;\r\n\r\n        return (\r\n            <div className=\"card-body\">\r\n                <img\r\n                    src={`${process.env.REACT_APP_API_URL}/post/photo/${post._id}`}\r\n                    alt={post.title}\r\n                    onError={i => (i.target.src = `${DefaultPost}`)}\r\n                    className=\"img-thunbnail mb-3\"\r\n                    style={{\r\n                        height: '300px',\r\n                        width: '100%',\r\n                        objectFit: 'cover'\r\n                    }}\r\n                />\r\n\r\n                {like ? (\r\n                    <h3 onClick={this.likeToggle}>\r\n                        <i\r\n                            className=\"fa fa-thumbs-up text-success bg-dark\"\r\n                            style={{ padding: '10px', borderRadius: '50%' }}\r\n                        />{' '}\r\n                        {likes} Like\r\n                    </h3>\r\n                ) : (\r\n                    <h3 onClick={this.likeToggle}>\r\n                        <i\r\n                            className=\"fa fa-thumbs-up text-warning bg-dark\"\r\n                            style={{ padding: '10px', borderRadius: '50%' }}\r\n                        />{' '}\r\n                        {likes} Like\r\n                    </h3>\r\n                )}\r\n\r\n                <p className=\"card-text\">{post.body}</p>\r\n                <br />\r\n                <p className=\"font-italic mark\">\r\n                    Posted by <Link to={`${posterId}`}>{posterName} </Link>\r\n                    on {new Date(post.created).toDateString()}\r\n                </p>\r\n                <div className=\"d-inline-block\">\r\n                    <Link to={`/`} className=\"btn btn-raised btn-primary btn-sm mr-5\">\r\n                        Back to posts\r\n                    </Link>\r\n\r\n                    {isAuthenticated().user && isAuthenticated().user._id === post.postedBy._id && (\r\n                        <>\r\n                            <Link to={`/post/edit/${post._id}`} className=\"btn btn-raised btn-warning btn-sm mr-5\">\r\n                                Update Post\r\n                            </Link>\r\n                            <button onClick={this.deleteConfirmed} className=\"btn btn-raised btn-danger\">\r\n                                Delete Post\r\n                            </button>\r\n                        </>\r\n                    )}\r\n\r\n                    <div>\r\n                        {isAuthenticated().user && isAuthenticated().user.role === 'admin' && (\r\n                            <div class=\"card mt-5\">\r\n                                <div className=\"card-body\">\r\n                                    <h5 className=\"card-title\">Admin</h5>\r\n                                    <p className=\"mb-2 text-danger\">Edit/Delete as an Admin</p>\r\n                                    <Link\r\n                                        to={`/post/edit/${post._id}`}\r\n                                        className=\"btn btn-raised btn-warning btn-sm mr-5\"\r\n                                    >\r\n                                        Update Post\r\n                                    </Link>\r\n                                    <button onClick={this.deleteConfirmed} className=\"btn btn-raised btn-danger\">\r\n                                        Delete Post\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    render() {\r\n        const { post, redirectToHome, redirectToSignin, comments } = this.state;\r\n\r\n        if (redirectToHome) {\r\n            return <Redirect to={`/`} />;\r\n        } else if (redirectToSignin) {\r\n            return <Redirect to={`/signin`} />;\r\n        }\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"display-2 mt-5 mb-5\">{post.title}</h2>\r\n\r\n                {!post ? (\r\n                    <div className=\"jumbotron text-center\">\r\n                        <h2>Loading...</h2>\r\n                    </div>\r\n                ) : (\r\n                    this.renderPost(post)\r\n                )}\r\n\r\n                <Comment postId={post._id} comments={comments.reverse()} updateComments={this.updateComments} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SinglePost;","import React, {Component} from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { isAuthenticated } from './index';\r\n\r\nconst PrivateRoute = ({component: Component, ...rest}) => (\r\n        <Route \r\n            {...rest} \r\n            render={props => \r\n                isAuthenticated() ? (\r\n                    <Component {...props} />\r\n                ) : (\r\n                    <Redirect \r\n                        to={{\r\n                            pathname: \"/signin\",\r\n                            state: { from: props.location}\r\n                        }}\r\n                    />\r\n                )\r\n            } \r\n        />\r\n\r\n)\r\n\r\nexport default PrivateRoute;\r\n","import React, { Component } from \"react\";\r\nimport { forgotPassword } from \"../auth\";\r\n\r\nclass ForgotPassword extends Component {\r\n    state = {\r\n        email: \"\",\r\n        message: \"\",\r\n        error: \"\"\r\n    };\r\n\r\n    forgotPassword = e => {\r\n        e.preventDefault();\r\n        this.setState({ message: \"\", error: \"\" });\r\n        forgotPassword(this.state.email).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n                this.setState({ error: data.error });\r\n            } else {\r\n                console.log(data.message);\r\n                this.setState({ message: data.message });\r\n            }\r\n        });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Ask for Password Reset</h2>\r\n\r\n                {this.state.message && (\r\n                    <h4 className=\"bg-success\">{this.state.message}</h4>\r\n                )}\r\n                {this.state.error && (\r\n                    <h4 className=\"bg-warning\">{this.state.error}</h4>\r\n                )}\r\n\r\n                <form>\r\n                    <div className=\"form-group mt-5\">\r\n                        <input\r\n                            type=\"email\"\r\n                            className=\"form-control\"\r\n                            placeholder=\"Your email address\"\r\n                            value={this.state.email}\r\n                            name=\"email\"\r\n                            onChange={e =>\r\n                                this.setState({\r\n                                    email: e.target.value,\r\n                                    message: \"\",\r\n                                    error: \"\"\r\n                                })\r\n                            }\r\n                            autoFocus\r\n                        />\r\n                    </div>\r\n                    <button\r\n                        onClick={this.forgotPassword}\r\n                        className=\"btn btn-raised btn-primary\"\r\n                    >\r\n                        Send Password Reset Link\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ForgotPassword;\r\n","import React, { Component } from \"react\";\r\nimport { resetPassword } from \"../auth\";\r\n\r\nclass ResetPassword extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            newPassword: \"\",\r\n            message: \"\",\r\n            error: \"\"\r\n        };\r\n    }\r\n\r\n    resetPassword = e => {\r\n        e.preventDefault();\r\n        this.setState({ message: \"\", error: \"\" });\r\n\r\n        resetPassword({\r\n            newPassword: this.state.newPassword,\r\n            resetPasswordLink: this.props.match.params.resetPasswordToken\r\n        }).then(data => {\r\n            if (data.error) {\r\n                console.log(data.error);\r\n                this.setState({ error: data.error });\r\n            } else {\r\n                console.log(data.message);\r\n                this.setState({ message: data.message, newPassword: \"\" });\r\n            }\r\n        });\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <h2 className=\"mt-5 mb-5\">Reset your Password</h2>\r\n\r\n                {this.state.message && (\r\n                    <h4 className=\"bg-success\">{this.state.message}</h4>\r\n                )}\r\n                {this.state.error && (\r\n                    <h4 className=\"bg-warning\">{this.state.error}</h4>\r\n                )}\r\n\r\n                <form>\r\n                    <div className=\"form-group mt-5\">\r\n                        <input\r\n                            type=\"password\"\r\n                            className=\"form-control\"\r\n                            placeholder=\"Your new password\"\r\n                            value={this.state.newPassword}\r\n                            name=\"newPassword\"\r\n                            onChange={e =>\r\n                                this.setState({\r\n                                    newPassword: e.target.value,\r\n                                    message: \"\",\r\n                                    error: \"\"\r\n                                })\r\n                            }\r\n                            autoFocus\r\n                        />\r\n                    </div>\r\n                    <button\r\n                        onClick={this.resetPassword}\r\n                        className=\"btn btn-raised btn-primary\"\r\n                    >\r\n                        Reset Password\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ResetPassword;\r\n","import React, { Component } from \"react\";\r\nimport Posts from \"../post/Posts\";\r\nimport Users from \"../user/Users\";\r\nimport { isAuthenticated } from \"../auth\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass Admin extends Component {\r\n    state = {\r\n        redirectToHome: false\r\n    };\r\n\r\n    componentDidMount() {\r\n        if (isAuthenticated().user.role !== \"admin\") {\r\n            this.setState({ redirectToHome: true });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.state.redirectToHome) {\r\n            return <Redirect to=\"/\" />;\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"jumbotron\">\r\n                    <h2>Admin Dashboard</h2>\r\n                    <p className=\"lead\">Welcome to React Frontend</p>\r\n                </div>\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row\">\r\n                    \r\n                    <div className=\"col-md-6\">\r\n                        <h2>Posts</h2>\r\n                        <hr />\r\n                        <Posts />\r\n                    </div>\r\n\r\n                    <div className=\"col-md-6\">\r\n                        <h2>Users</h2>\r\n                        <hr />\r\n                        <Users />\r\n                    </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Admin;\r\n","import React from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\nimport Home from './core/Home';\r\nimport Menu from './core/Menu';\r\nimport Signup from './user/Signup';\r\nimport Signin from './user/Signin';\r\nimport Profile from './user/Profile';\r\nimport Users from './user/Users';\r\nimport EditProfile from './user/EditProfile';\r\nimport FindPeople from './user/FindPeople';\r\nimport NewPost from './post/NewPost';\r\nimport EditPost from './post/EditPost';\r\nimport SinglePost from './post/SinglePost';\r\nimport PrivateRoute from './auth/PrivateRoute';\r\nimport ForgotPassword from \"./user/ForgotPassword\";\r\nimport ResetPassword from \"./user/ResetPassword\";\r\nimport Admin from './admin/Admin';\r\n\r\n\r\n\r\nconst MainRouter = () => (\r\n        <div>\r\n            <Menu />\r\n            <Switch>\r\n                <Route exact path=\"/\" component={Home} />\r\n                <PrivateRoute exact path=\"/admin\" component={Admin} />\r\n                <Route exact path=\"/forgot-password\" component={ForgotPassword} />\r\n                <Route exact path=\"/reset-password/:resetPasswordToken\" component={ResetPassword} />\r\n                <PrivateRoute exact path=\"/post/create\" component={NewPost} />\r\n                <Route exact path=\"/post/:postId\" component={SinglePost} />\r\n                <PrivateRoute exact path=\"/post/edit/:postId\" component={EditPost} />\r\n                <Route exact path=\"/users\" component={Users} />\r\n                <Route exact path=\"/signup\" component={Signup} />\r\n                <Route exact path=\"/signin\" component={Signin} />\r\n                \r\n                <PrivateRoute exact path=\"/user/edit/:userId\" component={EditProfile} />\r\n                <PrivateRoute exact path=\"/findpeople\" component={FindPeople} />\r\n                <PrivateRoute exact path=\"/user/:userId\" component={Profile} />\r\n                \r\n            </Switch>\r\n        </div>\r\n)\r\n\r\nexport default MainRouter;\r\n","import React from 'react';\nimport {BrowserRouter} from 'react-router-dom';\nimport MainRouter from './MainRouter';\n\nconst App = () => (\n  <BrowserRouter>\n    <MainRouter />\n  </BrowserRouter>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n","module.exports = __webpack_public_path__ + \"static/media/avatar.bc837331.jpg\";"],"sourceRoot":""}